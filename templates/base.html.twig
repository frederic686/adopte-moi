<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}Adopte-moi{% endblock %}</title>
    <style>
      body{margin:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
      header{border-bottom:1px solid #e5e7eb;background:#fff;position:sticky;top:0;z-index:10}
      nav{max-width:1100px;margin:0 auto;display:flex;gap:16px;align-items:center;padding:12px 20px}
      .brand{font-weight:700;text-decoration:none;color:#111827}
      .links{margin-left:auto;display:flex;gap:10px;list-style:none;padding:0}
      .links a{padding:8px 10px;border-radius:8px;text-decoration:none;color:#111827}
      .links a:hover{background:#f3f4f6}
      main{max-width:1100px;margin:24px auto;padding:0 20px}
    </style>
    {% block stylesheets %}{% endblock %}
    {% block javascripts %}{% endblock %}
  </head>
  <body>
    <header>
      <nav>
        <a class="brand" href="{{ path('app_accueil') }}">Adopte-moi</a>

        <ul class="links">
          {# Liens visibles par tout le monde #}
          <li><a href="{{ path('app_accueil') }}">Accueil</a></li>
          <li><a href="{{ path('app_recherche') }}">Rechercher</a></li>

          {# Si connecté #}
          {% if app.user %}
            {% if is_granted('ROLE_ELEVEUR') %}
              <li><a href="{{ path('app_demandes') }}">Demandes recu</a></li>
              <li><a href="{{ path('app_eleveur') }}">profil</a></li>
            {% else %}
              {# Utilisateur simple #}
              <li><a href="{{ path('app_mes_demandes') }}">Mes demandes</a></li>
              <li><a href="{{ path('app_favoris') }}">Mes favoris</a></li>
            {% endif %}

            <li><a href="{{ path('app_logout') }}">Se déconnecter</a></li>
          {% else %}
            {# Non connecté #}
            <li><a href="{{ path('app_login') }}">Me connecter</a></li>
            <li><a href="{{ path('app_register') }}">Créer un compte</a></li>
          {% endif %}
        </ul>
      </nav>
    </header>

    <main>
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
